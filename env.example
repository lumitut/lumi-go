# Service Configuration
SERVICE_NAME=lumi-go
SERVICE_VERSION=v0.0.4
ENVIRONMENT=development  # development, staging, production

# HTTP Server Configuration
HTTP_PORT=8080
HTTP_READ_TIMEOUT=15s
HTTP_WRITE_TIMEOUT=15s
HTTP_IDLE_TIMEOUT=60s

# RPC Server Configuration
RPC_PORT=8081
RPC_READ_TIMEOUT=30s
RPC_WRITE_TIMEOUT=30s

# Server Configuration
GRACEFUL_SHUTDOWN_TIMEOUT=30s
ENABLE_PPROF=false  # Enable pprof debug endpoints (never in production)
PPROF_PORT=6060

# Database Configuration
DB_HOST=localhost
DB_PORT=5432
DB_USER=postgres
DB_PASSWORD=password
DB_NAME=lumi
DB_SSL_MODE=disable  # disable, require, verify-ca, verify-full
DB_MAX_OPEN_CONNS=25
DB_MAX_IDLE_CONNS=5
DB_CONN_MAX_LIFETIME=5m
DB_CONN_MAX_IDLE_TIME=5m

# Redis Configuration
REDIS_HOST=localhost
REDIS_PORT=6379
REDIS_PASSWORD=
REDIS_DB=0
REDIS_POOL_SIZE=10
REDIS_MIN_IDLE_CONNS=2
REDIS_DIAL_TIMEOUT=5s
REDIS_READ_TIMEOUT=3s
REDIS_WRITE_TIMEOUT=3s
REDIS_POOL_TIMEOUT=4s
REDIS_IDLE_TIMEOUT=5m
REDIS_MAX_RETRIES=3

# Observability - Logging
LOG_LEVEL=info  # debug, info, warn, error, fatal
LOG_FORMAT=json  # json, text
LOG_OUTPUT=stdout  # stdout, stderr, file
LOG_SAMPLING=true
LOG_DEVELOPMENT=false  # Set to true in development for more verbose logging

# Observability - Metrics
METRICS_ENABLED=true
METRICS_PORT=9090
METRICS_PATH=/metrics

# Observability - Tracing
TRACING_ENABLED=true  # Set to false if no OTEL collector is available
TRACING_SAMPLING=1.0  # 0.0 to 1.0 (1.0 = 100% sampling)
OTEL_EXPORTER_OTLP_ENDPOINT=localhost:4317
OTEL_EXPORTER_OTLP_INSECURE=true  # Use TLS in production
OTEL_EXPORTER_OTLP_HEADERS=  # Optional headers in format: key1=value1,key2=value2

# Middleware - CORS
CORS_ENABLED=false  # Off by default for security
CORS_ALLOW_ORIGINS=  # Comma-separated list of allowed origins
CORS_ALLOW_METHODS=GET,POST,PUT,DELETE,OPTIONS
CORS_ALLOW_HEADERS=Origin,Content-Type,Accept,Authorization
CORS_EXPOSE_HEADERS=X-Request-ID
CORS_ALLOW_CREDENTIALS=false
CORS_MAX_AGE=12h

# Middleware - Rate Limiting
RATE_LIMIT_ENABLED=true
RATE_LIMIT_RATE=60  # Requests per minute
RATE_LIMIT_BURST=10  # Burst size
RATE_LIMIT_TYPE=ip  # ip, user, api_key

# Middleware - Recovery
RECOVERY_STACK_TRACE=true
RECOVERY_STACK_SIZE=4096
RECOVERY_PRINT_STACK=false  # Set to true in development

# Middleware - Request ID
REQUEST_ID_HEADER=X-Request-ID

# Middleware - Real IP
TRUSTED_PROXIES=  # Comma-separated list of trusted proxy IPs or CIDR ranges
TRUST_ALL_PROXIES=false  # Never set to true in production

# Middleware - Logging
LOG_SKIP_PATHS=/health,/ready,/metrics
LOG_REQUEST_BODY=false  # Be careful with PII
LOG_RESPONSE_BODY=false  # Be careful with PII
LOG_SLOW_THRESHOLD=1s

# Feature Flags
FEATURE_NEW_API=false
FEATURE_BETA=false
MAINTENANCE_MODE=false

# Instance Information (Optional)
INSTANCE_ID=
HOSTNAME=
